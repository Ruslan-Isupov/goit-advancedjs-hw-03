{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '34886676-216aa5272081537bbb6585f7b';\n\nconst searchPictures = function (query) {\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo$orientation=horizontal$safesearch=true`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n\nexport { searchPictures };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector('.gallery');\n\nfunction renderUserListItems(images) {\n  const markup = images.hits\n    .map(\n      image => `\n<li class=\"photo-card\">\n<a class=\"gallery__item\"  href=\"${image.largeImageURL}\" >\n  <img src=\"${image.webformatURL}\" alt=\"${image.tags}\"  />\n  </a>\n  <div class=\"info\">\n  \n  <p class=\"info-item\">Likes\n  <b>${image.likes}</b>\n</p>\n<p class=\"info-item\">Views\n  <b>${image.views}</b>\n</p>\n<p class=\"info-item\">Comments\n  <b>${image.comments}</b>\n</p>\n<p class=\"info-item\">Downloads\n  <b>${image.downloads}</b>\n</p>\n  </div>\n</li>`\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n  new SimpleLightbox('.gallery a').refresh();\n}\n\nfunction clearMarkup() {\n  gallery.innerHTML = '';\n}\n\nexport { renderUserListItems, clearMarkup };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { searchPictures } from './js/pixabay-api.js';\nimport { renderUserListItems, clearMarkup } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst load = document.querySelector('.loader');\n\nform.addEventListener('submit', findListOfPictures);\n\nclass LoaderService {\n  constructor(el) {\n    this.loader = el;\n  }\n\n  hide() {\n    this.loader.style.display = '';\n  }\n\n  show() {\n    this.loader.style.display = 'block';\n  }\n}\n\nconst loader = new LoaderService(load);\n\nfunction findListOfPictures(e) {\n  e.preventDefault();\n  loader.show();\n  const nameQuery = form.elements.searchQuery.value;\n\n  if (nameQuery === '') {\n    loader.hide();\n    iziToast.warning({\n      title: 'Alert',\n      message: 'You need to put world for searching',\n      position: 'topRight',\n    });\n    return;\n  }\n  searchPictures(nameQuery)\n    .then(images => {\n      if (images.total === 0) {\n        loader.hide();\n        iziToast.warning({\n          title: 'Alert',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return clearMarkup();\n      }\n      renderUserListItems(images);\n      loader.hide();\n    })\n    .catch(err => {\n      loader.hide();\n      clearMarkup();\n      iziToast.error({\n        title: 'Error',\n        message: err.message,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      form.reset();\n    });\n}\n"],"names":["API_KEY","searchPictures","query","resp","gallery","renderUserListItems","images","markup","image","SimpleLightbox","clearMarkup","form","load","findListOfPictures","LoaderService","el","loader","e","nameQuery","iziToast","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCAEVC,EAAiB,SAAUC,EAAO,CACtC,OAAO,MACL,gCAAgCF,CAAO,MAAME,CAAK,0DACtD,EAAI,KAAKC,GAAQ,CACb,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,MAAM,EAE7B,OAAOA,EAAK,MAChB,CAAG,CACH,ECTMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAoBC,EAAQ,CACnC,MAAMC,EAASD,EAAO,KACnB,IACCE,GAAS;AAAA;AAAA,kCAEmBA,EAAM,aAAa;AAAA,cACvCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,OAK7CA,EAAM,KAAK;AAAA;AAAA;AAAA,OAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,OAGXA,EAAM,QAAQ;AAAA;AAAA;AAAA,OAGdA,EAAM,SAAS;AAAA;AAAA;AAAA,MAIjB,EACA,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,EACpB,IAAIE,EAAe,YAAY,EAAE,SACnC,CAEA,SAASC,GAAc,CACrBN,EAAQ,UAAY,EACtB,CC/BA,MAAMO,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,SAAS,EAE7CD,EAAK,iBAAiB,SAAUE,CAAkB,EAElD,MAAMC,CAAc,CAClB,YAAYC,EAAI,CACd,KAAK,OAASA,CACf,CAED,MAAO,CACL,KAAK,OAAO,MAAM,QAAU,EAC7B,CAED,MAAO,CACL,KAAK,OAAO,MAAM,QAAU,OAC7B,CACH,CAEA,MAAMC,EAAS,IAAIF,EAAcF,CAAI,EAErC,SAASC,EAAmBI,EAAG,CAC7BA,EAAE,eAAc,EAChBD,EAAO,KAAI,EACX,MAAME,EAAYP,EAAK,SAAS,YAAY,MAE5C,GAAIO,IAAc,GAAI,CACpBF,EAAO,KAAI,EACXG,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,sCACT,SAAU,UAChB,CAAK,EACD,MACD,CACDlB,EAAeiB,CAAS,EACrB,KAAKZ,GAAU,CACd,GAAIA,EAAO,QAAU,EACnB,OAAAU,EAAO,KAAI,EACXG,EAAS,QAAQ,CACf,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACMT,EAAW,EAEpBL,EAAoBC,CAAM,EAC1BU,EAAO,KAAI,CACjB,CAAK,EACA,MAAMI,GAAO,CACZJ,EAAO,KAAI,EACXN,IACAS,EAAS,MAAM,CACb,MAAO,QACP,QAASC,EAAI,QACb,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,EAAK,MAAK,CAChB,CAAK,CACL"}